name: 'Ben RodrÃ­guez'

description: >
  Set the commit status for workflows triggered by bvr.

  See https://docs.github.com/en/rest/reference/repos#create-a-commit-status

inputs:
  token:
    description: 'A Github API authentication token'
    required: false
    default: '${{ github.token }}'

  update-commit-status:
    description: 'Whether to update the commit status to the workflow run conclusion'
    required: false
    default: 'true'

  accept:
    description: 'Create Commit Status "accept" parameter (header)'
    required: false
    default: 'application/vnd.github.v3+json'

  owner:
    description: 'Create Commit Status "owner" parameter (path)'
    required: false

  repo:
    description: 'Create Commit Status "repo" parameter (path)'
    required: false

  sha:
    description: 'Create Commit Status "sha" parameter (path)'
    required: false

  target_url:
    description: 'Create Commit Status "target_url" parameter (body)'
    required: false

  description:
    description: 'Create Commit Status "description" parameter (body)'
    required: false

  context:
    description: 'Create Commit Status "context" parameter (body)'
    required: false
    default: "ben-rodriguez"

outputs:
  repositoryOwner:
    description: >
      The repository owner is the organization name / github user that owns the
      repository used by this run.

      Note: This output will only be set when the workflow has
      inputs matching the ones set when Ben Rodriguez (Bot) triggers the run.

  repositoryName:
    description: >
      The repository name is used by this run.

      Note: This output will only be set when the workflow has
      inputs matching the ones set when Ben Rodriguez (Bot) triggers the run.

  repositorySha:
    description: >
      The repository SHA name is used by this run.

      Note: This output will only be set when the workflow has
      inputs matching the ones set when Ben Rodriguez (Bot) triggers the run.

runs:
  using: 'node12'
  main: 'build/bundled/index.js'
  post: 'build/bundled/index.js'
